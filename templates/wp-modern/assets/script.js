"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var WP_Modern=function(){function n(e){_classCallCheck(this,n),this.element=e,this.element.hasClass("wponion-settings")&&(this.settings_init_sticky_header(),this.settings_init_search_input())}return _createClass(n,[{key:"settings_init_sticky_header",value:function(){if(1===this.element.find(".header-sticky").length){var i=this.element.find(".header-sticky"),e=jQuery(window),s=i.find("> .inner-container"),a=parseInt(s.css("padding-left"))+parseInt(s.css("padding-right")),o=0,n=!1,t=function(){n||requestAnimationFrame(function(){!function(){var e=i.offset().top,n=Math.max(32,e-o),t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);n<=32&&782<t?(s.css({width:i.outerWidth()-a}),i.css({height:i.outerHeight()}).addClass("header-sticky-in")):(s.removeAttr("style"),i.removeAttr("style").removeClass("header-sticky-in"))}(),n=!1}),n=!0},r=function(){o=e.scrollTop(),t()};e.on("scroll resize",r),r()}}},{key:"settings_init_search_input",value:function(){var s=this;this.element.find(".action-search").find("input").on("change keyup",function(e){var i=jQuery(e.currentTarget).val(),n=s.element.find(".wponion-container-wraps");s.element.find(".search-no-result").hide(),3<i.length?(s.element.find(".menu-wrap").addClass("wponion-search-unmatched"),s.element.find(".content-outer-wrap").addClass("full-width"),n.addClass("wponion-search-matched"),s.element.find(".wponion-has-callback").addClass("wponion-search-unmatched"),s.element.find(".wponion-has-callback").removeClass("wponion-search-matched"),n.each(function(e,n){(n=jQuery(n)).find("> .wponion-element").addClass("wponion-search-unmatched"),n.find("> .wponion-element").removeClass("wponion-search-matched"),n.find("> .wponion-element").each(function(e,t){(t=jQuery(t)).find(".wponion-element-title > h4, .wponion-desc").each(function(e,n){s.settings_is_search_matched(jQuery(n),i)&&(t.addClass("wponion-search-matched"),t.removeClass("wponion-search-unmatched"))})})}),0===s.element.find(".wponion-element:visible").length&&s.element.find(".search-no-result").show()):(s.element.find(".search-no-result").hide(),s.element.find(".wponion-search-unmatched").removeClass("wponion-search-unmatched"),s.element.find(".wponion-search-matched").removeClass("wponion-search-matched"),s.element.find(".content-outer-wrap").removeClass("full-width"))})}},{key:"settings_is_search_matched",value:function(e,n){return e.text().match(new RegExp(".*?"+n+".*?","i"))}}]),n}();window.wponion.hooks.addAction("wponion_theme_init","wponion_core",function(e){e.hasClass("wponion-wp_modern-theme")&&new WP_Modern(e)});